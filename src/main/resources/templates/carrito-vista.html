<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tu Pedido | Mojito Master Neon</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root {
	--neon-blue: #00f3ff;
	--neon-purple: #bc13fe;
	--neon-green: #39ff14;
	--dark-bg: #050505;
	--card-bg: #111;
}

body {
	background-color: var(--dark-bg);
	color: white;
	font-family: 'Segoe UI', Roboto, sans-serif;
}

.glass-nav {
	background: rgba(0, 0, 0, 0.8);
	backdrop-filter: blur(10px);
	border-bottom: 1px solid #333;
}

.neon-text {
	text-shadow: 0 0 10px var(--neon-blue);
	color: var(--neon-blue);
	font-family: 'Orbitron', sans-serif;
}

.cart-card {
	background: var(--card-bg);
	border: 1px solid #333;
	border-radius: 15px;
	box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
}

.table {
	color: white;
	border-color: #333;
}

.table thead th {
	border-bottom: 2px solid var(--neon-purple);
	text-transform: uppercase;
	font-size: 0.8rem;
	letter-spacing: 1px;
}

.price-text {
	color: var(--neon-green);
	font-weight: bold;
}

.btn-neon-blue {
	background: transparent;
	border: 1px solid var(--neon-blue);
	color: var(--neon-blue);
	transition: 0.3s;
}

.btn-neon-blue:hover {
	background: var(--neon-blue);
	color: black;
	box-shadow: 0 0 15px var(--neon-blue);
}

.btn-checkout {
	background: var(--neon-purple);
	color: white;
	border: none;
	box-shadow: 0 0 15px var(--neon-purple);
}

.btn-checkout:hover {
	background: #9d0fd4;
	color: white;
	box-shadow: 0 0 25px var(--neon-purple);
}

.product-img {
	border-radius: 8px;
	border: 1px solid #444;
	object-fit: cover;
}
</style>
</head>
<body>

	<nav class="navbar navbar-expand-lg fixed-top glass-nav">
		<div class="container">
			<a class="navbar-brand text-white fw-bold" th:href="@{/productos}">
				MOJITO<span style="color: var(--neon-blue)">MASTER</span>
			</a>
			<div class="ms-auto">
				<a th:href="@{/productos}"
					class="btn btn-neon-blue btn-sm rounded-pill"> <i
					class="bi bi-plus-lg me-1"></i>SEGUIR COMPRANDO
				</a>
			</div>
		</div>
	</nav>

	<main class="container py-5 mt-5">
		<div class="text-center mb-5">
			<h2 class="display-5 fw-bold neon-text">TU PEDIDO ACTUAL</h2>
			<p class="text-white-50">Revisa tu selección antes de preparar la
				barra.</p>
		</div>

		<div th:if="${#lists.isEmpty(carrito)}" class="text-center py-5">
			<div class="mb-4">
				<i class="bi bi-cup-straw"
					style="font-size: 4rem; color: var(--neon-purple);"></i>
			</div>
			<h3>Tu barra está vacía</h3>
			<p class="text-white-50">¿Aún no has elegido tu dosis de frescor
				neón?</p>
			<a th:href="@{/productos}" class="btn btn-neon-blue mt-3 px-5">VER
				CARTA</a>
		</div>

		<div th:unless="${#lists.isEmpty(carrito)}" class="cart-card p-4">
			<div class="table-responsive">
				<table class="table align-middle">
					<thead>
						<tr>
							<th>Producto</th>
							<th>Descripción</th>
							<th class="text-center">Precio</th>
							<th class="text-center">Cant.</th>
							<th class="text-center">Subtotal</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="item : ${carrito}">
							<td><img th:src="${item.producto.imagenUrl}" width="70"
								height="70" class="product-img" alt="Trago"></td>
							<td>
								<div class="fw-bold" th:text="${item.producto.nombre}">Nombre</div>
								<small class="text-white-50 d-block"
								th:text="${item.producto.descripcion}"></small>
							</td>
							<td class="text-center price-text"
								th:text="'$' + ${#numbers.formatInteger(item.producto.precio, 0, 'POINT')}"></td>
							<td class="text-center" th:text="${item.cantidad}">1</td>
							<td class="text-center price-text"
								th:text="'$' + ${#numbers.formatInteger(item.subtotal, 0, 'POINT')}"></td>
							<td class="text-end"><a
								th:href="@{/carrito/eliminar/{id}(id=${item.producto.id})}"
								class="text-danger"> <i class="fa-solid fa-trash-can fa-lg"></i>
							</a></td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="row mt-5 align-items-center">
				<div class="col-md-6 mb-4 mb-md-0">
					<div class="p-3 border border-secondary rounded-3">
						<small class="fw-bold text-uppercase d-block mb-1"
							style="color: var(--neon-purple);">Nota de Barra:</small>
						<p class="small text-white-50 mb-0">Los pedidos se procesan de
							inmediato. Asegúrate de que todos tus productos sean los
							correctos.</p>
					</div>
				</div>
				<div class="col-md-6 text-md-end">
					<h5 class="text-white-50 mb-1">TOTAL A PAGAR:</h5>
					<div class="display-5 fw-bold mb-4"
						style="color: var(--neon-green);"
						th:text="'$' + ${#numbers.formatInteger(totalCarrito, 0, 'POINT')}">
						$0</div>
					<div
						class="d-flex flex-column flex-md-row justify-content-md-end gap-3">
						<a th:href="@{/carrito/vaciar}"
							class="btn btn-outline-danger rounded-pill px-4"
							onclick="return confirm('¿Limpiar toda la selección?')"> <i
							class="bi bi-x-circle me-1"></i> VACIAR
						</a> <a th:href="@{/carrito/finalizar}"
							class="btn btn-checkout btn-lg px-5 rounded-pill fw-bold">
							FINALIZAR PEDIDO <i class="bi bi-lightning-charge-fill ms-2"></i>
						</a>
					</div>
				</div>
			</div>
		</div>
	</main>

	<footer class="py-4 mt-5 border-top border-secondary">
		<div class="container text-center text-white-50 small">
			<p>&copy; 2026 MOJITO MASTER NEON | Bebe con responsabilidad</p>
		</div>
	</footer>

</body>
</html>